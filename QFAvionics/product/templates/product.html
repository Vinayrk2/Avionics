{% extends "master.html" %}



{% block content %}

<div class="container" style="border:1px solid brown">

    <main class="container my-5">
        <div class="row">
            <div class="col-md-6">
               <div class="row">
                <img src="{{product.image.url}}"
                    alt="Nexus TJ-102 In-Line Microphone Jack" class="img-fluid" id="main-img">
               </div> 
                

               <div class="row" style="display: flex; justify-content: space-evenly;">

                {% for image in product.images %}
    <!-- <img src="{{image.image.url}}" style="display: inline; width:100px; height:100px;"/> -->
                    <div class="box" style="height:8vh;width:8vh;border: 1px solid black;">
                        <img src="{{image.image.url}}"
                            alt="" class="zoom">
                    </div>
                {% endfor %}                
               </div> 
            </div>
            <div class="col-md-6">
                <h1 class="mb-3">{{product.name}}</h1>
                <p>Our Part #: {{product.description}}</p>
                <p class="price">Our Price: {{product.price}}</p>
                <p>Category:{{product.category.name}}</p>




                <p class="stock-info in-stock">In-Stock: 186 Units available.</p>

                <div class="d-flex align-items-center">
                    <a href="{% url 'cart_add' id=product.id %}"><button class="btn btn-success me-2">ADD TO CART</button></a>
                </div>
            </div>

        </div>
    </main>
</div>

<div class="container" style="margin-bottom: 10vh;">
    <main class="container mt-4"></main>
    <h2 class="mb-3">Related Items</h2>
    <div class="row row-cols-1 row-cols-md-5 g-4">

        {% if related_products %}
        {% for product in related_products %}
        <div class="col">
            <div class="card h-100">
                <img src="{{product.image.url}}"
                    class="card-img-top" alt="Amphenol NEXUS TJ-105">
                <div class="card-body">
                    <h5 class="card-title">{{product.name}}</h5>
                    <p class="card-text">{{product.category.name}}</p>
                    <p class="card-text">{{product.description}}</p>
                    <p class="card-text">${{product.price}}</p>
                    <a href="{% url 'product-view' id=product.id %}" class="btn btn-link p-0">View Details</a>
                </div>
                {%  if product.stock_quantity < 10 %}
                <div class="card-footer bg-white">
                    <small class="text-danger">Stock : {{product.stock_quantity}}</small>
                </div>
                {% elif  product.stock_quantity < 50 %}

                <div class="card-footer bg-white">
                    <small class="text-warning">Stock : {{product.stock_quantity}}</small>
                </div>
                {% else %}
                <div class="card-footer bg-white">
                    <small class="text-success">Stock : {{product.stock_quantity}}</small>
                </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
        {% endif %}

    </div>
    </main>
</div>


<!-- <div class="container" style="border: 1px solid red;">
    <h1> Product Details Here....</h1>
    <h2> {{product.name}}</h2>
    {% for key, value in product.items %}
    <h3> {{key}} : {{value}}</h3>
    {% endfor %}

    
</div> -->

<script>
    let zoom = document.getElementsByClassName('zoom');
    let img = document.getElementById('main-img');
    

    for(let i=0;i<zoom.length;i++){
        zoom[i].addEventListener('click',(e)=>{
            img.src=e.target.src;
        })
    }
</script>
{% endblock %}